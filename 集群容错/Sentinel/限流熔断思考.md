## 限流熔断思考
#### 限流
负载均衡保证了保证集群劳作下的均衡分工，不会出现累得累死，闲的闲死的情况，集群容错则保证了当我们部分机器比如A犯错回家反思的情况下其他机器可以迅速完成指派给A的任务，而不至于让业务方成为下一个望夫石，至于限流，则是我们广大劳动人民一直追求的朝九晚六不加班，他保证了我们的机器不会超负荷工作导致宕机。
许多刚入职场的同学不明白为什么要限流，限流后部分用户不是提供不了服务了嘛？这个问题很简单，人心不足蛇吞象，如是也。
#### 熔断 
底层服务出现问题时：错误数过多/平均响应时间变长，上层应用怎么做？底层应用又该怎么做。
底层应用限流是必须的。熔断的具体情况需要具体分析，
代码错误导致系统资源应用不合理，比如特殊情况大对象的使用，数据库出现慢查询、索引未命中。这些情况出现导致系统的正常负载出现问题。限流可能已经解决不了问题了。

另外熔断的话这里最好业务方这里做一下相关处理。核心业务，业务方应当做好熔断/降级之后的一个备用方案。
##### 禁用服务
禁用  -->  导致的问题不一样，还是业务owner最清楚，根据不同的问题，处理手段也不一样。
非核心业务如果影响面可控也是可以采用直接下线服务的方式，这样做的好处是不会再让业务方苦苦等待，浪费有限的资源去等一个没有结果的响应。
###### 扩容
扩容 -->   要速度，需要自身运维系统支持，能暂时解决问题。
扩容的主要依据，系统资源利用率飙升，内存使用爆表，频繁GC。导致原因可能是流量过高，或者代码不当这个时候应用服务器扩容可以暂时解决问题。注：频繁fullGc也可以进行优化，如果代码正确的情况下，这个时候就需要做jvm参数优化了
慢sql-> 数据库服务器。应用sql语句优化、复杂表查询改宽表。加缓存等等。

###### 放任
放任不管（等修复） --> 影响范围能接受（禁用可能会有额外的风险情况）
